开启转发

```bash
firewall-cmd --zone=public --add-masquerade --permanent
# 查询方式
# firewall-cmd --zone=public --query-masquerade
```

此时

```bash
[root@localhost ~]# cat /proc/sys/net/ipv4/ip_forward
1
```

开启本地路由，其中eth0是机器的网卡名，注意替换

```bash
# sysctl -a | grep ipv4\.conf | grep route_localnet
sysctl -w ipv4.conf.eth0.route_localnet=1
```

添加转发规则，注：添加后需要重启防火墙（--reload）

```bash
# 本机:23791 转发至 127.0.0.1:2379
port=23791:proto=tcp:toport=2379:toaddr=127.0.0.1 --permanent
```

查找转发规则

```bash
firewall-cmd --list-forward-ports
```

删除转发规则

```bash
# 建议先查找，然后直接复制
# firewall-cmd --zone=public --list-forward-ports
firewall-cmd --permenent --remove-forward-port=port=8080:proto=tcp:toport=8088:toaddr=192.168.22.55
```

