开启转发

```bash
firewall-cmd --zone=public --add-masquerade --permanent
firewall-cmd --reload
```

查询方式

```
firewall-cmd --zone=public --query-masquerade
```

此时

```bash
[root@localhost ~]# cat /proc/sys/net/ipv4/ip_forward
1
```

开启本地路由，其中eth0是机器的网卡名，注意替换

```bash
# sysctl -a 2>1 | grep ipv4\.conf | grep route_localnet
sysctl -w net.ipv4.conf.eth0.route_localnet = 1
```

添加转发规则

```bash
# 本机:28018 转发至 20.115.226.155:28018
firewall-cmd --zone=public --permanent --add-forward-port=port=28018:proto=tcp:toport=28018:toaddr=20.115.226.155
firewall-cmd --reload
```

查找转发规则

```bash
firewall-cmd --list-forward-ports
```

删除转发规则（建议先查找，然后直接复制）

```bash
firewall-cmd --permanent --remove-forward-port=port=28019:proto=tcp:toport=28018:toaddr=20.115.226.155
firewall-cmd --reload
```

