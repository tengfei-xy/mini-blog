# bp和sp

SP－－栈指针。在程序中只能通过`push`、`pop`、`sub sp`, n、add sp, n等指令来移动栈指针。

BP－－栈基址寄存器。

当在栈中（1）开辟一定数量的空间用来存储数据或者（2）在主、子程序之间传递参数时会用到BP。

比如，在程序的数据段中未分配变量单元，而你临时需要两个字单元，可以：

```6502&#x20;assembly
sub sp,4 ;开辟4个字节空间
mov bp,sp ;保存当前栈指针到栈基址BP中，以便下面引用
add word ptr[bp],2
add word ptr[bp+2],4
add sp,4 ;用完后归还4个字节的空间，保持栈的平衡
```
