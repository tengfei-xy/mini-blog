# æ•°æ®ç±»å‹

## ç›®å½•

-   [åŸºæœ¬ç±»å‹](#åŸºæœ¬ç±»å‹)
-   [å¤æ‚ç±»å‹](#å¤æ‚ç±»å‹)
-   [é›†åˆç±»å‹](#é›†åˆç±»å‹)

# åŸºæœ¬ç±»å‹

-   æ•°å€¼ç±»å‹
    -   æ•´æ•°
        -   æœ‰ç¬¦å·æ•´æ•°

            `i8`, `i16`, `i32`, `i64`, `isize`
        -   æ— ç¬¦å·æ•´æ•°

            `u8`, `u16`, `u32`, `u64`, `usize`
    -   æµ®ç‚¹æ•°

        [https://course.rs/basic/base-type/numbers.html#æµ®ç‚¹ç±»å‹](https://course.rs/basic/base-type/numbers.html#æµ®ç‚¹ç±»å‹ "https://course.rs/basic/base-type/numbers.html#æµ®ç‚¹ç±»å‹")
    -   å­—é¢å€¼
        | æ•°å­—å­—é¢é‡         | ç¤ºä¾‹            |
        | ------------- | ------------- |
        | åè¿›åˆ¶           | `98_222`      |
        | åå…­è¿›åˆ¶          | `0xff`        |
        | å…«è¿›åˆ¶           | `0o77`        |
        | äºŒè¿›åˆ¶           | `0b1111_0000` |
        | å­—èŠ‚ (ä»…é™äº `u8`) | `b'A'`        |
    -   æº¢å‡º
        -   debugæ¨¡å¼

            ç¨‹åºå°†å´©æºƒ
        -   releaseæ¨¡å¼

            è¡¥ç å¾ªç¯ï¼ˆå¤§äºè¯¥ç±»å‹æœ€å¤§å€¼çš„æ•°å€¼ä¼šè¢«è¡¥ç è½¬æ¢æˆè¯¥ç±»å‹èƒ½å¤Ÿæ”¯æŒçš„å¯¹åº”æ•°å­—çš„æœ€å°å€¼ã€‚ï¼‰
        -   æ˜¾å¼å¤„ç†æº¢å‡º
            -   ä½¿ç”¨ `wrapping_*` æ–¹æ³•åœ¨æ‰€æœ‰æ¨¡å¼ä¸‹éƒ½æŒ‰ç…§è¡¥ç å¾ªç¯æº¢å‡ºè§„åˆ™å¤„ç†ï¼Œä¾‹å¦‚ `wrapping_add`
                ```rust
                fn main() {
                  let a : u8 = 255;
                  let b = a.wrapping_add(20);
                  println!("{}", b);  // 19
                }
                ```
            -   å¦‚æœä½¿ç”¨ `checked_*` æ–¹æ³•æ—¶å‘ç”Ÿæº¢å‡ºï¼Œåˆ™è¿”å› `None` å€¼
            -   ä½¿ç”¨ `overflowing_*` æ–¹æ³•è¿”å›è¯¥å€¼å’Œä¸€ä¸ªæŒ‡ç¤ºæ˜¯å¦å­˜åœ¨æº¢å‡ºçš„å¸ƒå°”å€¼
            -   ä½¿ç”¨ `saturating_*` æ–¹æ³•ä½¿å€¼è¾¾åˆ°æœ€å°å€¼æˆ–æœ€å¤§å€¼
                ä¸‹é¢æ˜¯ä¸€ä¸ªæ¼”ç¤º`wrapping_*`æ–¹æ³•çš„ç¤ºä¾‹ï¼š
            Â·
-   å­—ç¬¦ä¸²ç±»å‹ï¼ˆstrï¼‰

    æ€§è´¨ï¼šæ˜¯åˆ‡ç‰‡ï¼Œæ˜¯ä¸å¯å˜éƒ½çš„å¼•ç”¨ï¼ˆåœ°å€ï¼‰ï¼Œä¸åŒ…å«æ‰€æœ‰æƒï¼Œå› ä¸ºè¢«ç¡¬ç¼–ç åˆ°ç¨‹åºä»£ç ä¸­
    -   å­—é¢é‡
        ```rust
        // ç±»å‹ä¸º&strï¼Œå¹¶éStringç±»å‹
        let word = "hello world";
        // ç­‰åŒäº
        let word: &str= "hello world";


        ```
    -   å­—ç¬¦ä¸²åˆ‡ç‰‡ï¼ˆsliceï¼‰

        è¯´æ˜ï¼šå­—ç¬¦ä¸²åˆ‡ç‰‡æ˜¯å¯¹å­—ç¬¦ä¸²çš„å¼•ç”¨ï¼Œå®ƒä»¬ä¸ä¼šæ‹¥æœ‰è‡ªå·±çš„å†…å­˜åˆ†é…ï¼Œè€Œæ˜¯å¼•ç”¨äº†å…¶ä»–åœ°æ–¹å­˜å‚¨çš„å­—ç¬¦ä¸²æ•°æ®ã€‚
        ```rust
        let word = "hello world";
        let hello: &str = &s[0..5];
        // let hello = &s[..5];
        let world = &s[6..11];

        ```
    -   ç±»å‹è½¬æ¢
        -   `&str` â†’ `String`
            ```rust
            // æ–¹æ³•ä¸€
            String::from("hello,world")
            // æ–¹æ³•äºŒ
            "hello,world".to_string()

            ```
        -   `String` â†’ `&str`
            ```rust
            fn main() {
                let s = String::from("hello,world!");
                say_hello(&s);
                say_hello(&s[..]);
                say_hello(s.as_str());
            }

            fn say_hello(s: &str) {
                println!("{}",s);
            }
            ```
-   å¸ƒå°”ç±»å‹

    trueå’Œfalse
-   å­—ç¬¦ç±»å‹

    è¡¨ç¤ºå•ä¸ª Unicode å­—ç¬¦ï¼Œå­˜å‚¨ä¸º 4 ä¸ªå­—èŠ‚
-   å•å…ƒç±»å‹

    &#x20;å³ `()` ï¼Œå…¶å”¯ä¸€çš„å€¼ä¹Ÿæ˜¯ `()`

    ä¾‹ï¼š`main` å‡½æ•°å°±è¿”å›è¿™ä¸ªå•å…ƒç±»å‹ `()`ï¼Œä¾‹å¦‚å¸¸è§çš„ `println!()` çš„è¿”å›å€¼ä¹Ÿæ˜¯å•å…ƒç±»å‹ `()`ã€‚å†æ¯”å¦‚ï¼Œä½ å¯ä»¥ç”¨ `()` ä½œä¸º `map` çš„å€¼ï¼Œè¡¨ç¤ºæˆ‘ä»¬ä¸å…³æ³¨å…·ä½“çš„å€¼ï¼Œåªå…³æ³¨ `key`ã€‚ è¿™ç§ç”¨æ³•å’Œ Go è¯­è¨€çš„ ***struct{}*** ç±»ä¼¼ï¼Œå¯ä»¥ä½œä¸ºä¸€ä¸ªå€¼ç”¨æ¥å ä½ï¼Œä½†æ˜¯å®Œå…¨**ä¸å ç”¨**ä»»ä½•å†…å­˜ã€‚

# å¤æ‚ç±»å‹

-   å­—ç¬¦ä¸²ï¼ˆStringï¼‰
    -   Stringï¼ˆæ ‡å‡†åº“ï¼‰

        å®šä¹‰ï¼šæ˜¯å¤æ‚ç±»å‹ï¼Œç”±å­˜å‚¨åœ¨æ ˆä¸­çš„å †æŒ‡é’ˆã€å­—ç¬¦ä¸²é•¿åº¦ã€å­—ç¬¦ä¸²å®¹é‡ï¼Œæ‹¥æœ‰æ‰€æœ‰æƒã€‚

        æ€§è´¨ï¼šä½†æ˜¯ `String` åˆ™æ˜¯ä¸€ä¸ªå¯å¢é•¿ã€å¯æ”¹å˜ä¸”å…·æœ‰æ‰€æœ‰æƒçš„ UTF-8 ç¼–ç å­—ç¬¦ä¸²

        åŸç†ï¼šåœ¨ç¨‹åºè¿è¡Œæ—¶ï¼Œåœ¨å †ä¸Šåˆ†é…ä¸€å—åœ¨ç¼–è¯‘æ—¶æœªçŸ¥å¤§å°çš„å†…å­˜æ¥å­˜æ”¾å†…å®¹
        -   å£°æ˜
            ```rust
            let s = String::from("hello,world!");
            ```
        -   ç´¢å¼•

            ä¸å…è®¸è¢«ç´¢å¼•ï¼Œå› ä¸º`String`æ˜¯UTF-8å­—ç¬¦æ•°ç»„ï¼Œæ¯ä¸ªUTF-8å­—ç¬¦æ˜¯ä¸‰ä¸ªå­—èŠ‚
        -   æ·»åŠ 
            -   æŒ‡å®šä½ç½®æ’å…¥

                å¯ä»¥ä½¿ç”¨ `insert()` æ–¹æ³•æ’å…¥å•ä¸ªå­—ç¬¦ `char`ï¼Œä¹Ÿå¯ä»¥ä½¿ç”¨ `insert_str()` æ–¹æ³•æ’å…¥å­—ç¬¦ä¸²å­—é¢é‡ï¼Œä¸ `push()` æ–¹æ³•ä¸åŒï¼Œè¿™ä¿©æ–¹æ³•éœ€è¦ä¼ å…¥ä¸¤ä¸ªå‚æ•°ï¼Œç¬¬ä¸€ä¸ªå‚æ•°æ˜¯å­—ç¬¦ï¼ˆä¸²ï¼‰æ’å…¥ä½ç½®çš„ç´¢å¼•ï¼Œç¬¬äºŒä¸ªå‚æ•°æ˜¯è¦æ’å…¥çš„å­—ç¬¦ï¼ˆä¸²ï¼‰ï¼Œç´¢å¼•ä» 0 å¼€å§‹è®¡æ•°ï¼Œå¦‚æœè¶Šç•Œåˆ™ä¼šå‘ç”Ÿé”™è¯¯ã€‚ç”±äºå­—ç¬¦ä¸²æ’å…¥æ“ä½œè¦**ä¿®æ”¹åŸæ¥çš„å­—ç¬¦ä¸²**ï¼Œåˆ™è¯¥å­—ç¬¦ä¸²å¿…é¡»æ˜¯å¯å˜çš„ï¼Œå³**å­—ç¬¦ä¸²å˜é‡å¿…é¡»ç”± ****`mut`**** å…³é”®å­—ä¿®é¥°**ã€‚

                ç¤ºä¾‹ä»£ç å¦‚ä¸‹ï¼š
                ```rust
                fn main() {
                    let mut s = String::from("Hello rust!");
                    s.insert(5, ',');
                    println!("æ’å…¥å­—ç¬¦ insert() -> {}", s);
                    s.insert_str(6, " I like");
                    println!("æ’å…¥å­—ç¬¦ä¸² insert_str() -> {}", s);
                }

                // è¿è¡Œç»“æœ
                // æ’å…¥å­—ç¬¦ insert() -> Hello, rust!
                // æ’å…¥å­—ç¬¦ä¸² insert_str() -> Hello, I like rust!

                ```
            -   å°¾éƒ¨è¿½åŠ 

                åœ¨å­—ç¬¦ä¸²å°¾éƒ¨å¯ä»¥ä½¿ç”¨ `push()` æ–¹æ³•è¿½åŠ å­—ç¬¦ `char`ï¼Œä¹Ÿå¯ä»¥ä½¿ç”¨ `push_str()` æ–¹æ³•è¿½åŠ å­—ç¬¦ä¸²å­—é¢é‡ã€‚è¿™ä¸¤ä¸ªæ–¹æ³•éƒ½æ˜¯**åœ¨åŸæœ‰çš„å­—ç¬¦ä¸²ä¸Šè¿½åŠ ï¼Œå¹¶ä¸ä¼šè¿”å›æ–°çš„å­—ç¬¦ä¸²**ã€‚ç”±äºå­—ç¬¦ä¸²è¿½åŠ æ“ä½œè¦ä¿®æ”¹åŸæ¥çš„å­—ç¬¦ä¸²ï¼Œåˆ™è¯¥å­—ç¬¦ä¸²å¿…é¡»æ˜¯å¯å˜çš„ï¼Œå³**å­—ç¬¦ä¸²å˜é‡å¿…é¡»ç”± ****`mut`**** å…³é”®å­—ä¿®é¥°**ã€‚

                ç¤ºä¾‹ä»£ç å¦‚ä¸‹ï¼š
                ```rust
                fn main() {
                  let mut s = String::from("Hello ");
                  s.push_str("rust");
                  println!("è¿½åŠ å­—ç¬¦ä¸² push_str() -> {}", s);
                  s.push('!');
                  println!("è¿½åŠ å­—ç¬¦ push() -> {}", s);
                }

                // ä»£ç è¿è¡Œç»“æœï¼š
                // è¿½åŠ å­—ç¬¦ä¸² push_str() -> Hello rust
                // è¿½åŠ å­—ç¬¦ push() -> Hello rust!
                ```
        -   [æ›¿æ¢](https://course.rs/basic/compound-type/string-slice.html#æ›¿æ¢-replace "æ›¿æ¢")
        -   [åˆ é™¤](https://course.rs/basic/compound-type/string-slice.html#åˆ é™¤-delete "åˆ é™¤")
        -   [è¿æ¥](https://course.rs/basic/compound-type/string-slice.html#è¿æ¥-concatenate "è¿æ¥")
        -   [è½¬ä¹‰](https://course.rs/basic/compound-type/string-slice.html#å­—ç¬¦ä¸²è½¬ä¹‰ "è½¬ä¹‰")
        -   éå†
            ```rust
            for c in "ä¸­å›½äºº".chars() {
                println!("{}", c);
            }
            ```
        -   éå†å­—èŠ‚
            ```rust
            for b in "ä¸­å›½äºº".bytes() {
                println!("{}", b);
            }
            ```
        -   è·å–å­ä¸²

            æƒ³è¦å‡†ç¡®çš„ä» UTF-8 å­—ç¬¦ä¸²ä¸­è·å–å­ä¸²æ˜¯è¾ƒä¸ºå¤æ‚çš„äº‹æƒ…ï¼Œä¾‹å¦‚æƒ³è¦ä» `hollaä¸­å›½äººà¤¨à¤®à¤¸à¥à¤¤à¥‡` è¿™ç§å˜é•¿çš„å­—ç¬¦ä¸²ä¸­å–å‡ºæŸä¸€ä¸ªå­ä¸²ï¼Œä½¿ç”¨æ ‡å‡†åº“ä½ æ˜¯åšä¸åˆ°çš„ã€‚ ä½ éœ€è¦åœ¨ `crates.io` ä¸Šæœç´¢ `utf8` æ¥å¯»æ‰¾æƒ³è¦çš„åŠŸèƒ½ã€‚

            å¯ä»¥è€ƒè™‘å°è¯•ä¸‹è¿™ä¸ªåº“ï¼š[utf8\_slice](https://crates.io/crates/utf8_slice "utf8_slice")ã€‚
        -   ç±»å‹è½¬æ¢
            -   `&str` â†’ `String`
                ```rust
                // æ–¹æ³•ä¸€
                String::from("hello,world")
                // æ–¹æ³•äºŒ
                "hello,world".to_string()

                ```
            -   `String` â†’ `&str`
                ```rust
                fn main() {
                    let s = String::from("hello,world!");
                    say_hello(&s);
                    say_hello(&s[..]);
                    say_hello(s.as_str());
                }

                fn say_hello(s: &str) {
                    println!("{}",s);
                }
                ```
        -   å…‹éš† / æ·±æ‹·è´
            > ğŸ“ŒRust æ°¸è¿œä¹Ÿä¸ä¼šè‡ªåŠ¨åˆ›å»ºæ•°æ®çš„ â€œæ·±æ‹·è´â€
            > ç¤ºä¾‹
            ```rust
            let s1 = String::from("hello");
            let s2 = s1.clone();

            println!("s1 = {}, s2 = {}", s1, s2);
            ```
    -   OsStringï¼ˆæ ‡å‡†åº“ï¼‰
    -   OsStrï¼ˆæ ‡å‡†åº“ï¼‰
    -   CsStringï¼ˆæ ‡å‡†åº“ï¼‰
    -   csStrï¼ˆæ ‡å‡†åº“ï¼‰
-   å…ƒç»„

    ç‰¹ç‚¹ï¼šé•¿åº¦ã€é¡ºåºæ˜¯å›ºå®šçš„ã€‚

    å£°æ˜ï¼š
    ```rust
    let tup: (i32, f64, u8) = (500, 6.4, 1);

    ```
    è§£æ„ï¼š
    ```rust
    let tup = (500, 6.4, 1);
    let (x, y, z) = tup;
    println!("The value of y is: {}", y);
    ```
    è®¿é—®å…ƒç»„
    ```rust
    let x: (i32, f64, u8) = (500, 6.4, 1);
    let five_hundred = x.0;
    let six_point_four = x.1;
    let one = x.2;
    ```
    åœ¨å‡½æ•°å‚æ•°ä¸­åŒ¹é…å…ƒç»„
    ```rust
    fn print_coordinates(&(x, y): &(i32, i32)) {
        println!("Current location: ({}, {})", x, y);
    }

    fn main() {
        let point = (3, 5);
        print_coordinates(&point);
    }
    ```
-   ç»“æ„ä½“
    -   å†…å­˜æ’åˆ—

        ä»å›¾ä¸­å¯ä»¥æ¸…æ™°åœ°çœ‹å‡º `File` ç»“æ„ä½“ä¸¤ä¸ªå­—æ®µ `name` å’Œ `data` åˆ†åˆ«æ‹¥æœ‰åº•å±‚ä¸¤ä¸ª `[u8]` æ•°ç»„çš„æ‰€æœ‰æƒ(`String` ç±»å‹çš„åº•å±‚ä¹Ÿæ˜¯ `[u8]` æ•°ç»„)ï¼Œé€šè¿‡ `ptr` æŒ‡é’ˆæŒ‡å‘åº•å±‚æ•°ç»„çš„å†…å­˜åœ°å€ï¼Œè¿™é‡Œä½ å¯ä»¥æŠŠ `ptr` æŒ‡é’ˆç†è§£ä¸º Rust ä¸­çš„å¼•ç”¨ç±»å‹ã€‚

        è¯¥å›¾ç‰‡ä¹Ÿä¾§é¢å°è¯äº†ï¼š**æŠŠç»“æ„ä½“ä¸­å…·æœ‰æ‰€æœ‰æƒçš„å­—æ®µè½¬ç§»å‡ºå»åï¼Œå°†æ— æ³•å†è®¿é—®è¯¥å­—æ®µï¼Œä½†æ˜¯å¯ä»¥æ­£å¸¸è®¿é—®å…¶å®ƒçš„å­—æ®µ**ã€‚

        ![](https://pic3.zhimg.com/80/v2-8cc4ed8cd06d60f974d06ca2199b8df5_1440w.png)
    -   åˆ›å»º
        ```rust
        // å£°æ˜
        struct User {
            active: bool,
            username: String,
            email: String,
            sign_in_count: u64,
        }

        // æ³¨æ„:
        // åˆå§‹åŒ–å®ä¾‹æ—¶ï¼Œæ¯ä¸ªå­—æ®µéƒ½éœ€è¦è¿›è¡Œåˆå§‹åŒ–
        // åˆå§‹åŒ–æ—¶çš„å­—æ®µé¡ºåºä¸éœ€è¦å’Œç»“æ„ä½“å®šä¹‰æ—¶çš„é¡ºåºä¸€è‡´
            let user1 = User {
                active: true,
                email: String::from("someone@example.com"),
                username: String::from("someusername123"),
                sign_in_count: 1,
            };
        // ç®€åŒ–åˆ›å»º
        fn build_user(email: String, username: String) -> User {
            User {
                email: email,
                username: username,
                active: true,
                sign_in_count: 1,
            }
        }
        // å†ç®€åŒ–
        fn build_user(email: String, username: String) -> User {
            User {
                email,
                username,
                active: true,
                sign_in_count: 1,
            }
        }

        ```
    -   åˆ›å»ºï¼ˆåŒ…å«å¼•ç”¨ç±»å‹æ—¶ï¼‰

        æ­¤æ—¶éœ€è¦[ç”Ÿå‘½å‘¨æœŸ](https://course.rs/basic/lifetime.html "ç”Ÿå‘½å‘¨æœŸ")
        ```rust
        struct User {
            // ä»£ç é”™è¯¯
            username: &str,
            email: &str,
            sign_in_count: u64,
            active: bool,
        }

        fn main() {
            let user1 = User {
                email: "someone@example.com",
                username: "someusername123",
                active: true,
                sign_in_count: 1,
            };
        }
        ```
    -   è®¿é—®å­—æ®µ
        ```rust
        // æ³¨æ„:
        // å¿…é¡»è¦å°†ç»“æ„ä½“å®ä¾‹å£°æ˜ä¸ºå¯å˜çš„ï¼Œæ‰èƒ½ä¿®æ”¹å…¶ä¸­çš„å­—æ®µã€‚
        // Rust ä¸æ”¯æŒå°†æŸä¸ªç»“æ„ä½“æŸä¸ªå­—æ®µæ ‡è®°ä¸ºå¯å˜ã€‚
            let mut user1 = User {
                email: String::from("someone@example.com"),
                username: String::from("someusername123"),
                active: true,
                sign_in_count: 1,
            };

            user1.email = String::from("anotheremail@example.com");

        ```
    -   æ›´æ–°ï¼ˆåˆ›å»ºæ ¹æ®å·²æœ‰çš„ç»“æ„ä½“ï¼‰
        ```rust
          let user2 = User {
                active: user1.active,
                username: user1.username,
                email: String::from("another@example.com"),
                sign_in_count: user1.sign_in_count,
            };
            
        // ç®€åŒ–è¯­æ³•
        // æ³¨æ„:
        // ..user1 å¿…é¡»åœ¨ç»“æ„ä½“çš„å°¾éƒ¨ä½¿ç”¨ã€‚
        // ç”±äº usernameå¹¶æ²¡æœ‰å®ç°COPYç‰¹å¾ï¼Œæ‰€ä»¥ä¼šå‘ç”Ÿæ‰€æœ‰æƒè½¬ç§»
        // è€Œbool,u64å®ç°äº†ï¼Œæ‰€ä»¥å‘ç”Ÿäº†æ‹·è´
          let user2 = User {
                email: String::from("another@example.com"),
                ..user1
            };

        ```
    -   è¾“å‡º
        ```rust
        #[derive(Debug)]
        struct Rectangle {
            width: u32,
            height: u32,
        }

        fn main() {
            let rect1 = Rectangle {
                width: 30,
                height: 50,
            };

            println!("rect1 is {:?}", rect1);
        }
        ```
    -   ç»‘å®šå˜é‡å¹¶è§£æ„
        ```rust
        #[derive(Debug)]
        struct Point {
            x: i32,
            y: i32,
        }

        fn main() {
            // ç»‘å®šæ–°å˜é‡ `p`ï¼ŒåŒæ—¶å¯¹ `Point` è¿›è¡Œè§£æ„
            let p @ Point {x: px, y: py } = Point {x: 10, y: 23};
            println!("x: {}, y: {}", px, py);
            println!("{:?}", p);


            let point = Point {x: 10, y: 5};
            if let p @ Point {x: 10, y} = point {
                println!("x is 10 and y is {} in {:?}", y, p);
            } else {
                println!("x was not 10 :(");
            }
        }
        // è¾“å‡ºç»“æœ
        // x: 10, y: 23
        // Point { x: 10, y: 23 }
        // x is 10 and y is 5 in Point { x: 10, y: 5 }

        ```
    -   å®ç°`Display`ç‰¹å¾
        ```rust
        struct Person {
            name: String,
            age: u8,
        }

        use std::fmt;
        impl fmt::Display for Person {
            fn fmt(&self, f: &mut fmt::Formatter) -> fmt::Result {
                write!(
                    f,
                    "å¤§ä½¬åœ¨ä¸Šï¼Œè¯·å—æˆ‘ä¸€æ‹œï¼Œå°å¼Ÿå§“å{}ï¼Œå¹´èŠ³{}ï¼Œå®¶é‡Œæ— ç”°åˆæ— è½¦ï¼Œç”Ÿæ´»è‹¦å“ˆå“ˆ",
                    self.name, self.age
                )
            }
        }
        fn main() {
            let p = Person {
                name: "sunface".to_string(),
                age: 18,
            };
            println!("{}", p);
        }
        ```
-   å…ƒç»„ç»“æ„ä½“

    ç”¨å¤„ï¼šå¸Œæœ›æœ‰ä¸€ä¸ªæ•´ä½“åç§°ï¼Œä½†æ˜¯ä¸å…³å¿ƒé‡Œé¢å­—æ®µçš„åç§°
    ```rust
        struct Color(i32, i32, i32);
        struct Point(i32, i32, i32);

        let black = Color(0, 0, 0);
        let origin = Point(0, 0, 0);
    ```
    -   ä¸ºå…ƒç»„å®ç°Displayç‰¹å¾
        ```rust
        struct Array(Vec<i32>);

        use std::fmt;
        impl fmt::Display for Array {
            fn fmt(&self, f: &mut fmt::Formatter) -> fmt::Result {
                write!(f, "æ•°ç»„æ˜¯ï¼š{:?}", self.0)
            }
        }
        fn main() {
            let arr = Array(vec![1, 2, 3]);
            println!("{}", arr);
        }
        ```
-   å•å…ƒç»“æ„ä½“

    ç”¨å¤„ï¼šå½“å®šä¹‰ä¸€ä¸ªç±»å‹ï¼Œä½†æ˜¯ä¸å…³å¿ƒè¯¥ç±»å‹çš„å†…å®¹, åªå…³å¿ƒå®ƒçš„è¡Œä¸ºæ—¶ï¼Œå°±å¯ä»¥ä½¿ç”¨ `å•å…ƒç»“æ„ä½“`

    ç¤ºä¾‹
    ```rust
    struct AlwaysEqual;

    let subject = AlwaysEqual;

    // æˆ‘ä»¬ä¸å…³å¿ƒ AlwaysEqual çš„å­—æ®µæ•°æ®ï¼Œåªå…³å¿ƒå®ƒçš„è¡Œä¸ºï¼Œå› æ­¤å°†å®ƒå£°æ˜ä¸ºå•å…ƒç»“æ„ä½“ï¼Œç„¶åå†ä¸ºå®ƒå®ç°æŸä¸ªç‰¹å¾
    impl SomeTrait for AlwaysEqual {

    }
    ```
-   æšä¸¾

    å®šä¹‰ï¼šæšä¸¾ç±»å‹æ˜¯ä¸€ä¸ªç±»å‹ï¼Œå®ƒä¼šåŒ…å«æ‰€æœ‰å¯èƒ½çš„æšä¸¾æˆå‘˜, è€Œæšä¸¾å€¼æ˜¯è¯¥ç±»å‹ä¸­çš„å…·ä½“æŸä¸ªæˆå‘˜çš„å®ä¾‹ã€‚

    ç†è§£ï¼šå¤šä¸ªç»“æ„ä½“é€‰å…¶ä¸€æ˜¯æšä¸¾
    -   åˆ›å»º
        ```rust
        // å£°æ˜
        enum PokerSuit {
          Clubs,
          Spades,
          Diamonds,
          Hearts,
        }


        fn main() {
            // åˆ›å»º
            let heart = PokerSuit::Hearts;
            let diamond = PokerSuit::Diamonds;

            print_suit(heart);
            print_suit(diamond);
        }

        // å‡½æ•°è°ƒç”¨
        fn print_suit(card: PokerSuit) {
            println!("{:?}",card);
        }

        ```
    -   æšä¸¾å¯¹äºç»“æ„ä½“

        æšä¸¾åˆ›å»º
        ```rust
        // Quit æ²¡æœ‰ä»»ä½•å…³è”æ•°æ®
        // Move åŒ…å«ä¸€ä¸ªåŒ¿åç»“æ„ä½“
        // Write åŒ…å«ä¸€ä¸ª String å­—ç¬¦ä¸²
        // ChangeColor åŒ…å«ä¸‰ä¸ª i32
        enum Message {
            Quit,
            Move { x: i32, y: i32 },
            Write(String),
            ChangeColor(i32, i32, i32),
        }

        fn main() {
            let m1 = Message::Quit;
            let m2 = Message::Move{x:1,y:1};
            let m3 = Message::ChangeColor(255,255,0);
        }
        ```
        ç»“æ„ä½“åˆ›å»º
        ```rust
        struct QuitMessage; // å•å…ƒç»“æ„ä½“
        struct MoveMessage {
            x: i32,
            y: i32,
        }
        struct WriteMessage(String); // å…ƒç»„ç»“æ„ä½“
        struct ChangeColorMessage(i32, i32, i32); // å…ƒç»„ç»“æ„ä½“
        ```
    -   [å¤„ç†ç©ºå€¼](https://course.rs/basic/compound-type/enum.html#option-æšä¸¾ç”¨äºå¤„ç†ç©ºå€¼ "å¤„ç†ç©ºå€¼")
    -   å®ç°æ–¹æ³•
        ```rust
        #![allow(unused)]
        enum Message {
            Quit,
            Move { x: i32, y: i32 },
            Write(String),
            ChangeColor(i32, i32, i32),
        }

        impl Message {
            fn call(&self) {
                // åœ¨è¿™é‡Œå®šä¹‰æ–¹æ³•ä½“
            }
        }

        fn main() {
            let m = Message::Write(String::from("hello"));
            m.call();
        }
        ```
-   å®šé•¿æ•°ç»„

    ç‰¹ç‚¹ï¼šé•¿åº¦å›ºå®šã€å…ƒç´ ç±»å‹ç›¸åŒã€çº¿æ€§æ’åº

    å­˜å‚¨ä½ç½®ï¼šæ ˆ
    -   åˆ›å»º
        ```rust
        // åˆ›å»º5ä¸ªå…ƒç´ çš„i32ç±»å‹çš„æ•°ç»„
        let a = [1, 2, 3, 4, 5];

        // åˆ›å»º10ä¸ªi32ï¼Œå€¼ä¸º5çš„æ•°ç»„ï¼Œé€šè¿‡COPYç‰¹å¾å®ç°çš„
        let a = [5,10];
        ```
    -   è¶Šç•Œè®¿é—®

        è¿è¡Œæ—¶è¿›è¡Œæ£€æŸ¥ï¼ŒRust ä¼šå‡ºç° ***panic***ã€‚
    -   å­—ç¬¦ä¸²æ•°ç»„

        å®šä¹‰äº†8ä¸ªå…ƒç´ çš„`rust is good`å­—ç¬¦ä¸²
        ```rust
        let array: [String; 8] = std::array::from_fn(|_i| String::from("rust is good!"));
        println!("{:#?}", array);
        ```
    -   æ•°ç»„åˆ‡ç‰‡

        åˆ›å»º
        ```rust
        let a: [i32; 5] = [1, 2, 3, 4, 5];
        let slice: &[i32] = &a[1..3];
        assert_eq!(slice, &[2, 3]);
        ```
        -   ç‰¹ç‚¹
            -   åˆ‡ç‰‡çš„é•¿åº¦å¯ä»¥ä¸æ•°ç»„ä¸åŒï¼Œå¹¶ä¸æ˜¯å›ºå®šçš„ï¼Œè€Œæ˜¯å–å†³äºä½ ä½¿ç”¨æ—¶æŒ‡å®šçš„èµ·å§‹å’Œç»“æŸä½ç½®
            -   åˆ›å»ºåˆ‡ç‰‡çš„ä»£ä»·éå¸¸å°ï¼Œå› ä¸ºåˆ‡ç‰‡åªæ˜¯é’ˆå¯¹åº•å±‚æ•°ç»„çš„ä¸€ä¸ªå¼•ç”¨
            -   \*\*åˆ‡ç‰‡ç±»å‹\[T]**æ‹¥æœ‰ä¸å›ºå®šçš„å¤§å°ï¼Œè€Œ**åˆ‡ç‰‡å¼•ç”¨ç±»å‹&\[T]\*\*åˆ™å…·æœ‰å›ºå®šçš„å¤§å°ï¼Œå› ä¸º Rust å¾ˆå¤šæ—¶å€™éƒ½éœ€è¦å›ºå®šå¤§å°æ•°æ®ç±»å‹ï¼Œå› æ­¤&\[T]æ›´æœ‰ç”¨,`&str`å­—ç¬¦ä¸²åˆ‡ç‰‡ä¹ŸåŒç†

# é›†åˆç±»å‹

-   åŠ¨æ€æ•°ç»„

    å­˜å‚¨ä½ç½®ï¼šå †
    -   åˆ›å»º
        ```rust
        // ä¸ç¡®å®šé•¿åº¦
        let v: Vec<i32> = Vec::new();
        // ç¡®å®šé•¿åº¦
        let v: Vec<i32> = Vec::with_capacity(capacity) 
        // ç»™äºˆåˆå§‹å€¼
        let v = vec![1, 2, 3];

        ```
    -   æ›´æ–° / æ·»åŠ  / æ’å…¥
        -   å°¾éƒ¨æ·»åŠ 
            ```rust
            v.push(1);
            ```
        -   å¤´éƒ¨æ’å…¥
            ```bash
            vec.insert(0, "Hello".to_string());
            ```
        -   æŒ‡å®šä½ç½®æ’å…¥
            ```rust
            vec.insert(5, "Hello".to_string());
            ```
    -   ç”Ÿå‘½å‘¨æœŸ
        1.  è¶…å‡ºä½œç”¨åŸŸåï¼Œå†…éƒ¨å­˜å‚¨çš„æ‰€æœ‰å†…å®¹éšä¹‹åˆ é™¤
        2.  å…ƒç´ è¢«å¼•ç”¨çš„è¯ï¼Œæƒ…å†µå¦è¯´
    -   è¯»å–å…ƒç´ 
        -   ä¸‹æ ‡ç´¢å¼•è®¿é—®
            ```rust
            let v = vec![1, 2, 3, 4, 5];

            let third: &i32 = &v[2];
            println!("ç¬¬ä¸‰ä¸ªå…ƒç´ æ˜¯ {}", third);
            ```
        -   getæ–¹æ³•

            æ³¨ï¼šè¶Šç•Œæ—¶ï¼Œgetæ–¹æ³•åœ¨å†…éƒ¨åšäº†å¤„ç†ï¼Œæœ‰å€¼çš„æ—¶å€™è¿”å› `Some(T)`ï¼Œæ— å€¼çš„æ—¶å€™è¿”å› `None`ï¼Œå› æ­¤éå¸¸å®‰å…¨
            ```rust
            let v = vec![1, 2, 3, 4, 5];
            match v.get(2) {
                Some(third) => println!("ç¬¬ä¸‰ä¸ªå…ƒç´ æ˜¯ {third}"),
                None => println!("å»ä½ çš„ç¬¬ä¸‰ä¸ªå…ƒç´ ï¼Œæ ¹æœ¬æ²¡æœ‰ï¼"),
            }
            ```
        -   è¿­ä»£

            ä¸€èˆ¬è¿­ä»£
            ```rust
            let v = vec![1, 2, 3];
            for i in &v {
                println!("{i}");
            }
            ```
            è¿­ä»£ä¸­ä¿®æ”¹å…ƒç´ 
            ```rust
            let mut v = vec![1, 2, 3];
            for i in &mut v {
                *i += 10
            }
            ```
    -   å­˜å‚¨ä¸åŒç±»å‹çš„å…ƒç´ 
        -   é€šè¿‡æšä¸¾å­˜å‚¨
            ```rust
            #[derive(Debug)]
            enum IpAddr {
                V4(String),
                V6(String)
            }
            fn main() {
                let v = vec![
                    IpAddr::V4("127.0.0.1".to_string()),
                    IpAddr::V6("::1".to_string())
                ];

                for ip in v {
                    show_addr(ip)
                }
            }

            fn show_addr(ip: IpAddr) {
                println!("{:?}",ip);
            }
            ```
        -   ç‰¹å¾å¯¹è±¡å®ç°
            ```rust
            trait IpAddr {
                fn display(&self);
            }

            struct V4(String);
            impl IpAddr for V4 {
                fn display(&self) {
                    println!("ipv4: {:?}",self.0)
                }
            }
            struct V6(String);
            impl IpAddr for V6 {
                fn display(&self) {
                    println!("ipv6: {:?}",self.0)
                }
            }

            fn main() {
                let v: Vec<Box<dyn IpAddr>> = vec![
                    Box::new(V4("127.0.0.1".to_string())),
                    Box::new(V6("::1".to_string())),
                ];

                for ip in v {
                    ip.display();
                }
            }
            ```
    -   æ’åº

        ç‰¹å¾ï¼šéœ€è¦å®ç°`Ord`å’Œ`Eq`å’Œ`PartialEq`å’Œ`PartialOrd`
        -   ç±»å‹
            -   ç¨³å®šæ’åº

                è¯´æ˜ï¼šå¯¹ç›¸ç­‰çš„å…ƒç´ ä¸è¿›è¡Œæ’åºï¼Œé¢å¤–åˆ†é…åŸæ•°ç»„ä¸€èˆ¬çš„ç©ºé—´
                ```rust
                fn main() {
                    let mut vec = vec![1, 5, 10, 2, 15];    
                    vec.sort();    
                    assert_eq!(vec, vec![1, 2, 5, 10, 15]);
                }
                ```
            -   ä¸ç¨³å®šæ’åº

                è¯´æ˜ï¼šä¸ä¿è¯å¯¹ä¸ç­‰ç­‰çš„æ’åºä¸è¿›è¡Œæ’åºï¼Œé€Ÿåº¦ä¼˜äºç¨³å®šæ’åº
                ```rust
                fn main() {
                    let mut vec = vec![1, 5, 10, 2, 15];    
                    vec.sort_unstable();    
                    assert_eq!(vec, vec![1, 2, 5, 10, 15]);
                }
                ```
        -   ç»“æ„ä½“æ’åº
            ```rust
            #[derive(Debug)]
            struct Person {
                name: String,
                age: u32,
            }

            impl Person {
                fn new(name: String, age: u32) -> Person {
                    Person { name, age }
                }
            }

            fn main() {
                let mut people = vec![
                    Person::new("Zoe".to_string(), 25),
                    Person::new("Al".to_string(), 60),
                    Person::new("John".to_string(), 1),
                ];
                // å®šä¹‰ä¸€ä¸ªæŒ‰ç…§å¹´é¾„å€’åºæ’åºçš„å¯¹æ¯”å‡½æ•°
                people.sort_unstable_by(|a, b| b.age.cmp(&a.age));

                println!("{:?}", people);
            }
            ```
-   HashMap
    -   è¯´æ˜
        -   è‹¥ç±»å‹å®ç° `Copy` ç‰¹å¾ï¼Œè¯¥ç±»å‹ä¼šè¢«å¤åˆ¶è¿› `HashMap`ï¼Œå› æ­¤æ— æ‰€è°“æ‰€æœ‰æƒ
        -   è‹¥æ²¡å®ç° `Copy` ç‰¹å¾ï¼Œæ‰€æœ‰æƒå°†è¢«è½¬ç§»ç»™ `HashMap` ä¸­
    -   åˆ›å»º
        -   ä½¿ç”¨newæ–¹æ³•
            ```rust
            use std::collections::HashMap;

            // åˆ›å»ºä¸€ä¸ªHashMapï¼Œç”¨äºå­˜å‚¨å®çŸ³ç§ç±»å’Œå¯¹åº”çš„æ•°é‡
            let mut my_gems = HashMap::new();

            // å°†å®çŸ³ç±»å‹å’Œå¯¹åº”çš„æ•°é‡å†™å…¥è¡¨ä¸­
            // ç±»å‹ä¸º HashMap<&str,i32>
            my_gems.insert("çº¢å®çŸ³", 1);
            my_gems.insert("è“å®çŸ³", 2);
            my_gems.insert("æ²³è¾¹æ¡çš„è¯¯ä»¥ä¸ºæ˜¯å®çŸ³çš„ç ´çŸ³å¤´", 18);
            ```
            æ³¨æ„ï¼šé¢„å…ˆçŸ¥é“ä¸ªæ•°ï¼Œå¯ä»¥ä½¿ç”¨ `HashMap::with_capacity(capacity)`åˆ›å»ºæŒ‡å®šå¤§å°çš„ `HashMap`ï¼Œé¿å…é¢‘ç¹çš„å†…å­˜åˆ†é…å’Œæ‹·è´ï¼Œæå‡æ€§èƒ½ã€‚
        -   ä½¿ç”¨è¿­ä»£å™¨å’Œcollectæ–¹æ³•åˆ›å»º
            ```rust
            fn main() {
                use std::collections::HashMap;

                let teams_list = vec![
                    ("ä¸­å›½é˜Ÿ".to_string(), 100),
                    ("ç¾å›½é˜Ÿ".to_string(), 10),
                    ("æ—¥æœ¬é˜Ÿ".to_string(), 50),
                ];

                let teams_map: HashMap<_,_> = teams_list.into_iter().collect();
                
                println!("{:?}",teams_map)
            }
            ```
    -   æŸ¥è¯¢
        -   getæ–¹æ³•
            > ğŸ“Œ1. `get` æ–¹æ³•è¿”å›ä¸€ä¸ª `Option<&i32>` ç±»å‹ï¼šå½“æŸ¥è¯¢ä¸åˆ°æ—¶ï¼Œä¼šè¿”å›ä¸€ä¸ª `None`ï¼ŒæŸ¥è¯¢åˆ°æ—¶è¿”å› `Some(&i32)`
            > 2\. `&i32` æ˜¯å¯¹ `HashMap` ä¸­å€¼çš„å€Ÿç”¨ï¼Œå¦‚æœä¸ä½¿ç”¨å€Ÿç”¨ï¼Œå¯èƒ½ä¼šå‘ç”Ÿæ‰€æœ‰æƒçš„è½¬ç§»
            ```rust
            use std::collections::HashMap;

            let mut scores = HashMap::new();

            scores.insert(String::from("Blue"), 10);
            scores.insert(String::from("Yellow"), 50);

            let team_name = String::from("Blue");
            let score: Option<&i32> = scores.get(&team_name);
            ```
    -   æ›´æ–°
        > `or_insert` è¿”å›äº† `&mut v` å¼•ç”¨ï¼Œå› æ­¤å¯ä»¥é€šè¿‡è¯¥å¯å˜å¼•ç”¨ç›´æ¥ä¿®æ”¹ `map` ä¸­å¯¹åº”çš„å€¼
        ```rust
        fn main() {
            use std::collections::HashMap;

            let mut scores = HashMap::new();

            scores.insert("Blue", 10);

            // è¦†ç›–å·²æœ‰çš„å€¼
            let old = scores.insert("Blue", 20);
            assert_eq!(old, Some(10));

            // æŸ¥è¯¢æ–°æ’å…¥çš„å€¼
            let new = scores.get("Blue");
            assert_eq!(new, Some(&20));

            // æŸ¥è¯¢Yellowå¯¹åº”çš„å€¼ï¼Œè‹¥ä¸å­˜åœ¨åˆ™æ’å…¥æ–°å€¼
            let v = scores.entry("Yellow").or_insert(5);
            assert_eq!(*v, 5); // ä¸å­˜åœ¨ï¼Œæ’å…¥5

            // æŸ¥è¯¢Yellowå¯¹åº”çš„å€¼ï¼Œè‹¥ä¸å­˜åœ¨åˆ™æ’å…¥æ–°å€¼
            let v = scores.entry("Yellow").or_insert(50);
            assert_eq!(*v, 5); // å·²ç»å­˜åœ¨ï¼Œå› æ­¤50æ²¡æœ‰æ’å…¥
        }
        ```
    -   é«˜æ€§èƒ½åº“
        -   é«˜å®‰å…¨æ€§
            ```rust
            use std::hash::BuildHasherDefault;
            use std::collections::HashMap;
            // å¼•å…¥ç¬¬ä¸‰æ–¹çš„å“ˆå¸Œå‡½æ•°
            use twox_hash::XxHash64;

            // æŒ‡å®šHashMapä½¿ç”¨ç¬¬ä¸‰æ–¹çš„å“ˆå¸Œå‡½æ•°XxHash64
            let mut hash: HashMap<_, _, BuildHasherDefault<XxHash64>> = Default::default();
            hash.insert(42, "the answer");
            assert_eq!(hash.get(&42), Some(&"the answer"));
            ```
        -   é«˜æ€§èƒ½

            ahash
