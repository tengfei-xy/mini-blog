# æ³¨é‡Š

## ç›®å½•

-   [æ–‡æ¡£æ³¨é‡Šä½œç”¨](#æ–‡æ¡£æ³¨é‡Šä½œç”¨)
-   [ä»£ç æ³¨é‡Š](#ä»£ç æ³¨é‡Š)
-   [æ–‡æ¡£æ³¨é‡Š](#æ–‡æ¡£æ³¨é‡Š)
-   [åŒ…æ³¨é‡Š](#åŒ…æ³¨é‡Š)

# æ–‡æ¡£æ³¨é‡Šä½œç”¨

-   ä¸€èˆ¬æ–‡æ¡£æµ‹è¯•

    rustä»£ç 
    ````rust
    /// `add_one` å°†æŒ‡å®šå€¼åŠ 1
    ///
    /// # Examples11
    ///
    /// ```
    /// let arg = 5;
    /// let answer = world_hello::compute::add_one(arg);
    ///
    /// assert_eq!(6, answer);
    /// ```
    pub fn add_one(x: i32) -> i32 {
        x + 1
    }

    ````
    è¿›è¡Œæµ‹è¯•
    ```bash
    $ cargo test 
    ```
    æµ‹è¯•ç»“æœ
    ```rust
    Doc-tests world_hello

    running 2 tests
    test src/compute.rs - compute::add_one (line 8) ... ok
    test src/compute.rs - compute::add_two (line 22) ... ok

    test result: ok. 2 passed; 0 failed; 0 ignored; 0 measured; 0 filtered out; finished in 1.00s

    ```
-   é€ æˆpanicçš„æµ‹è¯•

    ä»£ç 
    ````rust
    /// # Panics
    ///
    /// The function panics if the second argument is zero.
    ///
    /// ```rust
    /// // panics on division by zero
    /// world_hello::compute::div(10, 0);
    /// ```
    pub fn div(a: i32, b: i32) -> i32 {
        if b == 0 {
            panic!("Divide-by-zero error");
        }

        a / b
    }
    ````
    æµ‹è¯•ç»“æœ
    ```rust
    ---- src/compute.rs - compute::div (line 38) stdout ----
    Test executable failed (exit code 101).

    stderr:
    thread 'main' panicked at 'Divide-by-zero error', src/compute.rs:44:9
    note: run with `RUST_BACKTRACE=1` environment variable to display a backtrace
    ```
    å¦‚æœæƒ³è¦é€šè¿‡è¿™ç§æµ‹è¯•ï¼Œå¯ä»¥æ·»åŠ  `should_panic`ï¼š
    ````rust
    /// # Panics
    ///
    /// The function panics if the second argument is zero.
    ///
    /// ```rust,should_panic
    /// // panics on division by zero
    /// world_hello::compute::div(10, 0);
    /// ```
    ````
-   ä»£ç è·³è½¬
    -   è·³åˆ°æ ‡å‡†åº“
        ```rust
        /// `add_one` è¿”å›ä¸€ä¸ª[`Option`]ç±»å‹
        pub fn add_one(x: i32) -> Option<i32> {
            Some(x + 1)
        }
        ```
    -   è·¯å¾„çš„æ–¹å¼è·³è½¬
        ```rust
        use std::sync::mpsc::Receiver;

        /// [`Receiver<T>`]   [`std::future`].
        ///
        ///  [`std::future::Future`] [`Self::recv()`].
        pub struct AsyncReceiver<T> {
            sender: Receiver<T>,
        }

        impl<T> AsyncReceiver<T> {
            pub async fn recv() -> T {
                unimplemented!()
            }
        }
        ```
    -   åŒåå‘è·³è½¬
        ```rust
        /// è·³è½¬åˆ°ç»“æ„ä½“  [`Foo`](struct@Foo)
        pub struct Bar;

        /// è·³è½¬åˆ°åŒåå‡½æ•° [`Foo`](fn@Foo)
        pub struct Foo {}

        /// è·³è½¬åˆ°åŒåå® [`foo!`]
        pub fn Foo() {}

        #[macro_export]
        macro_rules! foo {
          () => {}
        }
        ```
-   æ–‡æ¡£æœç´¢åˆ«å
    ```rust
    #[doc(alias = "x")]
    #[doc(alias = "big")]
    pub struct BigX;

    #[doc(alias("y", "big"))]
    pub struct BigY;
    ```

# ä»£ç æ³¨é‡Š

-   è¡Œæ³¨é‡Š
    ```rust
    fn main() {
        // æˆ‘æ˜¯Sun...
        // face
        let name = "sunface";
        let age = 18; // ä»Šå¹´å¥½åƒæ˜¯18å²
    }
    ```
-   å—æ³¨é‡Š
    ```rust
    fn main() {
        /*
            æˆ‘
            æ˜¯
            S
            u
            n
            ... å“ï¼Œå¥½é•¿!
        */
        let name = "sunface";
        let age = "???"; // ä»Šå¹´å…¶å®ã€‚ã€‚ã€‚æŒºå¤§äº†
    }
    ```

# æ–‡æ¡£æ³¨é‡Š

> ğŸ“Œ1. æ–‡æ¡£æ³¨é‡Šéœ€è¦ä½äº `lib` ç±»å‹çš„åŒ…ä¸­ï¼Œä¾‹å¦‚ `src/lib.rs` ä¸­
> 2\. æ–‡æ¡£æ³¨é‡Šå¯ä»¥ä½¿ç”¨ `markdown`è¯­æ³•ï¼ä¾‹å¦‚ `# Examples` çš„æ ‡é¢˜ï¼Œä»¥åŠä»£ç å—é«˜äº®
> 3\. è¢«æ³¨é‡Šçš„å¯¹è±¡éœ€è¦ä½¿ç”¨ `pub` å¯¹å¤–å¯è§ï¼Œè®°ä½ï¼šæ–‡æ¡£æ³¨é‡Šæ˜¯ç»™ç”¨æˆ·çœ‹çš„ï¼Œ**å†…éƒ¨å®ç°ç»†èŠ‚ä¸åº”è¯¥è¢«æš´éœ²å‡ºå»**

-   æ–‡æ¡£è¡Œæ³¨é‡Š
    ````rust
    /// `add_one` å°†æŒ‡å®šå€¼åŠ 1
    ///
    /// # Examples
    ///
    /// ```
    /// let arg = 5;
    /// let answer = my_crate::add_one(arg);
    ///
    /// assert_eq!(6, answer);
    /// ```
    pub fn add_one(x: i32) -> i32 {
        x + 1
    }
    ````
-   æ–‡æ¡£å—æ³¨é‡Š
    ````rust
    /** `add_two` å°†æŒ‡å®šå€¼åŠ 2


    ```
    let arg = 5;
    let answer = my_crate::add_two(arg);

    assert_eq!(7, answer);
    ```
    */
    pub fn add_two(x: i32) -> i32 {
        x + 2
    }
    ````
-   æŸ¥çœ‹æ–‡æ¡£
    ```bash
    cargo doc --open
    ```

# åŒ…æ³¨é‡Š

-   åŒ…è¡Œæ³¨é‡Š `//!`&#x20;
    ```rust
    //! è®¡ç®—ä¸€äº›ä½ å£ç®—ç®—ä¸å‡ºæ¥çš„å¤æ‚ç®—æœ¯é¢˜


    /// `add_one`å°†æŒ‡å®šå€¼åŠ 1
    ///
    ```
-   å—æ³¨é‡Š `/*! ... */`ã€‚
    ```rust
    /*! libåŒ…æ˜¯world_helloäºŒè¿›åˆ¶åŒ…çš„ä¾èµ–åŒ…ï¼Œ
     é‡Œé¢åŒ…å«äº†computeç­‰æœ‰ç”¨æ¨¡å— */

    pub mod compute;
    ```
