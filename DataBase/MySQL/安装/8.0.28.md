[编译安装方式](https://dev.mysql.com/doc/refman/8.0/en/source-installation-prerequisites.html)

下载二进制安装包(1.2G)

```
wget https://cdn.mysql.com//Downloads/MySQL-8.0/mysql-8.0.28-el7-x86_64.tar
```



```bash
sudo yum -y install libaio gcc gcc-c++ ncurses ncurses-devel bison libgcrypt perl make cmake bison-devel numactl wget net-tools telnet
tar xf mysql-8.0.28-el7-x86_64.tar
sudo tar zxf mysql-8.0.28-el7-x86_64.tar.gz
sudo mv mysql-8.0.28-el7-x86_64 /usr/local/mysql-8.0.28
sudo groupadd mysql
sudo useradd -r -g mysql -s /bin/false mysql
cd /usr/local/mysql-8.0.28/
sudo rm LICENSE README
sudo mkdir logs data
```

编辑配置文件

```bash
sudo vi /usr/local/mysql-8.0.28/my.cnf
```

修改basedir和datadir

```bash
sudo sed -i 's#^basedir=$#basedir=/usr/local/mysql-8.0.28#g' support-files/mysql.server
sudo sed -i 's#^datadir=$#datadir=/usr/local/mysql-8.0.28/data#g' support-files/mysql.server
```

初始化，并记录密码

```bash
sudo chown -R mysql.mysql /usr/local/mysql-8.0.28/
sudo find /usr/local/mysql-8.0.28/ -type d -exec chmod  755 {} \;
sudo find /usr/local/mysql-8.0.28/ -type f -exec chmod  744 {} \;
sudo bin/mysqld --initialize --user=mysql --basedir=/usr/local/mysql-8.0.28 --datadir=/usr/local/mysql-8.0.28/data
```

针对my.cnf创建mysqld_safe的日志文件

```bash
sudo rm /etc/my.cnf
sudo touch /usr/local/mysql-8.0.28/logs/mysql-safe-error.log
sudo chown mysql.mysql /usr/local/mysql-8.0.28/logs/mysql-safe-error.log
```

启动服务

```bash
sudo ./support-files/mysql.server start
```

进入控制台

```bash
bin/mysql -u root -p
```

修改管理员密码

```sql
alter user 'root'@'localhost' identified by 'opjBIS$Z82LT0x7';
flush privileges;
```

创建业务用户

```sql
create database crawler_platform;
create user 'crawler_foreign'@'%' identified by 'm2rY1j8M4lua9cu';
grant all privileges on crawler_platform.* to crawler_foreign;
flush privileges;
```

设定时区

```sql
set global time_zone='+8:00';
flush privileges;
```

